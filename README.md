# Организация DWH и Data Lake для финтех-стартапа

## Описание

Заказчик — финтех-стартап, который предлагает международные банковские услуги через приложение. Компания придерживается децентрализованной финансовой системы: в каждой стране, где доступно приложение, есть отдельный сервис, работающий с валютой этой страны (пользователи могут безопасно переводить деньги в разные страны).

Финансовая активность пользователей увеличивается, поэтому пришло время провести единый анализ данных. Нужно объединить информацию из разных источников, реализовать пайплайн обработки данных из нескольких источников (подготовить их для аналитики) и полноценное хранилище для финтех-стартапа.

## Цели

* Собрать данные по транзакционной активности пользователей.
* Настроить обновление данных (AirFlow).
* Подготовить дашборд бизнес метрик (Data Lens).
* Понять, как выглядит динамика оборота всей компании и что приводит к его изменениям.

## Архитектура решения

![architecture](https://github.com/SanYattsu/Fintech_Startup_DE/assets/93816292/3d43d9d1-4b28-4bd8-b8dc-ca74c3795c1f)

## Структура данных

### **transactions**
* `operation_id` — id транзакции;
* `account_number_from` — внутренний бухгалтерский номер счёта транзакции ОТ КОГО;
* `account_number_to` — внутренний бухгалтерский номер счёта транзакции К КОМУ;
* `currency_code` — трёхзначный код валюты страны, из которой идёт транзакция;
* `country` — страна-источник транзакции;
* `status` — статус проведения транзакции: queued («транзакция в очереди на обработку сервисом»), in_progress («транзакция в обработке»), blocked («транзакция заблокирована сервисом»), done («транзакция выполнена успешно»), chargeback («пользователь осуществил возврат по транзакции»).
* `transaction_type` — тип транзакции во внутреннем учёте: authorisation («авторизационная транзакция, подтверждающая наличие счёта пользователя»), sbp_incoming («входящий перевод по системе быстрых платежей»), sbp_outgoing («исходящий перевод по системе быстрых платежей»), transfer_incoming («входящий перевод по счёту»), transfer_outgoing («исходящий перевод по счёту»), c2b_partner_incoming («перевод от юридического лица»), c2b_partner_outgoing («перевод юридическому лицу»);
* `amount` — целочисленная сумма транзакции в минимальной единице валюты страны (копейка, цент, куруш);
* `transaction_dt` — дата и время исполнения транзакции до миллисекунд.

### **сurrencies**
* `date_update` — дата обновления курса валют;
* `currency_code` — трёхзначный код валюты транзакции;
* `currency_code_with` — отношение другой валюты к валюте трёхзначного кода;
* `currency_code_div` — значение отношения единицы одной валюты к единице валюты транзакции.

## Стек технологий 
    
    Airflow, Hadoop, Kafka, WSL, S3, PostgreSQL, ClickHouse, YandexCloud, DWH, Data Lake, Vertica, Docker, HDFS
